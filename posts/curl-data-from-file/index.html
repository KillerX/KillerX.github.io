<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
  <meta charset="utf-8" />
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>Curl Data From File &middot; Stuff and Things</title>
  <meta name="description" content="" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/katex.min.css" integrity="sha384-9eLZqc9ds8eNjO3TmqPeYcDj8n+Qfa4nuSiGYa6DjLNcv9BtN69ZIulL9+8CqC9Y" crossorigin="anonymous">
  <link rel="stylesheet" href="https://example.com/css/main.min.css" />
  
  
</head>
  <body class="single-body">
    <nav class="nav-bar side-padding">
  <h1 class="nav-header"><a href="https://example.com/" class="nav-text">Stuff&amp;Things</a></h1>
  <div class="hamburger-menu">
    <button onclick="hamburgerMenuPressed.call(this)" aria-haspopup="true" aria-expanded="false" aria-controls="menu" aria-label="Menu">
      <span></span>
      <span></span>
    </button>
    <ul id="menu" class="hamburger-menu-overlay">
      <li><a href="https://example.com/" class="hamburger-menu-overlay-link">Home</a></li>
      <li><a href="https://example.com/categories/command-line" class="hamburger-menu-overlay-link">Command line</a></li>
    </ul>
  </div>
</nav>
    <main class="content side-text-padding">
      <article class="post dropcase">
        <header class="post-header">
        	<h1 class="post-title">Curl Data From File</h1>
          <p class="post-date">Posted <time datetime="2019-02-10">Feb 10, 2019</time></p>
        </header>
        
        <picture class="post-figure">
            
            <source srcset="https://example.com/static/img/curl.jpg">
          <img src="https://example.com/static/img/curl.jpg" alt="Photo by Alex Korolkoff on Unsplash">
        </picture>
        
        

<h1 id="curl-fill-form-field-from-file">CURL - Fill form field from file</h1>

<p>In case you need to put a fairly large amount of data into a form field using CURL,
the normal procedures do not seem to work (at least if GO is on the receiving side).</p>

<p>Attempting to do <code>curl -X POST -F field=@filename.txt</code> runs and the data is technically sent but
it is sent like this:</p>

<pre><code>00ed: --------------------------6742981c1eec2761
0119: Content-Disposition: form-data; name=&quot;field&quot;; filename=&quot;filename.txt&quot;
0155: Content-Type: application/octet-stream
017d:
017f: &lt;CONTENTS OF THE FILE&gt;
</code></pre>

<p>This does not work as a normal form field because it recognized as a file based on the <code>filename</code>
part. This causes the normal form field retrieval methods to ignore it.</p>

<p>The solution is to force an empty <code>filename</code> parameter like so:</p>

<pre><code>curl -X POST -F 'formField1=hardcoded' -F 'formField2=@file.txt;filename=' http://localhost:8080
</code></pre>

<p><sub>Photo by <a style="background-color:black;color:white;text-decoration:none;padding:4px 6px;font-family:-apple-system, BlinkMacSystemFont, &quot;San Francisco&quot;, &quot;Helvetica Neue&quot;, Helvetica, Ubuntu, Roboto, Noto, &quot;Segoe UI&quot;, Arial, sans-serif;font-size:12px;font-weight:bold;line-height:1.2;display:inline-block;border-radius:3px" href="https://unsplash.com/@koff?utm_medium=referral&amp;utm_campaign=photographer-credit&amp;utm_content=creditBadge" target="_blank" rel="noopener noreferrer" title="Download free do whatever you want high-resolution photos from Alex Korolkoff"><span style="display:inline-block;padding:2px 3px"><svg xmlns="http://www.w3.org/2000/svg" style="height:12px;width:auto;position:relative;vertical-align:middle;top:-2px;fill:white" viewBox="0 0 32 32"><title>unsplash-logo</title><path d="M10 9V0h12v9H10zm12 5h10v18H0V14h10v9h12v-9z"></path></svg></span><span style="display:inline-block;padding:2px 3px">Alex Korolkoff</span></a> on Unsplash</sub></p>

      </article>
      
    </main>
    <nav class="end-nav side-padding">
      
      <a ontouchstart="cardPressed.call(this)" ontouchend="cardReleased.call(this)" ontouchmove="cardReleased.call(this)" 
  href="https://example.com/" class="card home-card" style="background-image: url( https://example.com/img/grey-cloud.jpg )" rel="bookmark" >
  Home
</a>
    </nav>
    <footer>
    
</footer>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/highlight.min.js"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/katex.min.js" integrity="sha384-K3vbOmF2BtaVai+Qk37uypf7VrgBubhQreNQe9aGsz9lB63dIFiQVlJbr92dw2Lx" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/contrib/auto-render.min.js" integrity="sha384-kmZOZB5ObwgQnS/DuDg6TScgOiWWBiVt0plIRkZCmE6rDZGrEOQeHM5PcHi+nyqe" crossorigin="anonymous"
    onload="renderMathInElement(document.body);"></script>
<script src="https://example.com/js/core.js"></script>
<script>
  hljs.initHighlightingOnLoad();
</script>
  </body>
</html>